<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Aarna Homes â€“ Grid Reveal</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- GSAP -->
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

    <!-- LENIS -->
    <script src="https://unpkg.com/lenis@1.3.16/dist/lenis.min.js"></script>
    <style>
      :root {
        /* --ease: cubic-bezier(0.16, 1, 0.3, 1); */
        --dw: 1920;
        --to-rem: 16 * 1rem;
        --ease: cubic-bezier(0.84, 0, 0.16, 1);
        --color-ease: 0.4s ease-out;
        --multiplier: 0.2;
        --spacing: 1 / var(--dw) * 100vw;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: #0e0d0d;
        color: white;
        font-family: system-ui, sans-serif;
        overflow-x: hidden;
      }

      /* ===== HEADER ===== */
      header {
        height: 100vh;
        display: grid;
        place-items: center;
        font-size: clamp(2rem, 6vw, 4rem);
      }

      /* ===== SECTION ===== */
      .reasons {
        height: 400vh;
        position: relative;
      }

      .reasons-sticky {
        position: sticky;
        top: 0;
        height: 100vh;
        overflow: hidden;
      }

      /* ===== GRID ===== */
      .main-grid {
        position: absolute;
        inset: 0;
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-template-rows: repeat(3, 1fr);
      }

      /* ===== BACKGROUND IMAGE GRID ===== */
      .background-img {
        position: absolute;
        inset: 0;
        display: grid;
        grid-template-columns: inherit;
        grid-template-rows: inherit;
        z-index: 0;
      }

      .background-tile {
        clip-path: inset(calc(100% * var(--progress, 1)) 0 0 0);
        overflow: hidden;
      }

      .background-tile img {
        position: absolute;
        inset: 0;
        width: 100vw;
        height: 100vh;
        object-fit: cover;
        pointer-events: none;
      }

      /* ===== LINES GRID ===== */
      .lines-grid {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 1;
        opacity: 0;
      }

      .lines-v,
      .lines-h {
        position: absolute;
        inset: 0;
        display: flex;
        justify-content: space-evenly;
      }

      .lines-v {
        flex-direction: row;
      }
      .lines-h {
        flex-direction: column;
      }

      .lines-item {
        background: rgba(255, 255, 255, 0.35);
      }

      .lines-v .lines-item {
        width: 1px;
        height: 100%;
        transform-origin: bottom;
        transform: scaleY(0);
      }

      .lines-h .lines-item {
        height: 1px;
        width: 100%;
        transform-origin: right;
        transform: scaleX(0);
      }

      /* REASONS TITLE */
      .reasons-title_tile {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        grid-row-end: 4;
        grid-row-start: 3;
        grid-column-start: 1;
        grid-column-end: 3;
        position: relative;
        z-index: 2;
      }

      .reasons-title {
        font-size: calc(64 * var(--spacing));
        letter-spacing: -0.03em;
        text-transform: uppercase;
        font-weight: 700;
        width: 100%;
        line-height: 1.16;
        position: absolute;
        left: calc(var(--spacing) * 40);
      }

      /* ===== CONTENT GRID ===== */
      .reasons-content {
        position: absolute;
        inset: 0;
        z-index: 2;
        display: grid;
        grid-template-columns: inherit;
        grid-template-rows: inherit;
      }

      .reason {
        display: grid;
        place-items: center;
        background: #ffffff;
        color: #0e0d0d;
        font-size: clamp(1rem, 2.2vw, 1.6rem);
        opacity: 0;
        pointer-events: none;
      }

      /* Desktop placement */
      .reason:nth-child(1) {
        grid-column: 1;
        grid-row: 1;
      }
      .reason:nth-child(2) {
        grid-column: 3;
        grid-row: 1;
      }
      .reason:nth-child(3) {
        grid-column: 5;
        grid-row: 1;
      }
      .reason:nth-child(4) {
        grid-column: 2;
        grid-row: 2;
      }
      .reason:nth-child(5) {
        grid-column: 4;
        grid-row: 2;
      }
      .reason:nth-child(6) {
        grid-column: 1;
        grid-row: 3;
      }
      .reason:nth-child(7) {
        grid-column: 3;
        grid-row: 3;
      }
      .reason:nth-child(8) {
        grid-column: 5;
        grid-row: 3;
      }

      @media screen and (max-width: 1023px) {
        .reasons .background-img,
        .reasons .lines-grid {
          display: none;
        }
      }

      /* ===== MOBILE ===== */
      @media (max-width: 768px) {
        .reasons {
          height: 500vh;
        }

        .main-grid,
        .background-img,
        .reasons-content {
          grid-template-columns: repeat(2, 1fr);
          grid-template-rows: repeat(5, 1fr);
        }

        .reason {
          grid-column: auto !important;
          grid-row: auto !important;
          font-size: 1rem;
        }
      }
    </style>
  </head>

  <body>
    <header>Aarna Homes</header>

    <section class="reasons">
      <div class="reasons-sticky">
        <div class="main-grid">
          <!-- BACKGROUND -->
          <div class="background-img">
            <!-- 15 tiles -->
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>

            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>

            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
            <div class="background-tile">
              <img
                src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c"
              />
            </div>
          </div>

          <!-- LINES -->
          <div class="lines-grid">
            <div class="lines-v">
              <div class="lines-item"></div>
              <div class="lines-item"></div>
              <div class="lines-item"></div>
              <div class="lines-item"></div>
            </div>
            <div class="lines-h">
              <div class="lines-item"></div>
              <div class="lines-item"></div>
            </div>
          </div>

          <div class="reasons-title_tile">
            <div class="reasons-title">REASONS TO CHOOSE AARNA</div>
          </div>

          <!-- CONTENT -->
          <div class="reasons-content">
            <div class="reason">Prime Locations</div>
            <div class="reason">Modern Design</div>
            <div class="reason">Trusted Quality</div>
            <div class="reason">Smart Living</div>
            <div class="reason">Sustainable Homes</div>
            <div class="reason">Future Ready</div>
            <div class="reason">Great Investment</div>
            <div class="reason">Aarna Promise</div>
          </div>
        </div>
      </div>
    </section>
  </body>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    /* ============================= */
    /* LENIS (elastic scroll) */
    /* ============================= */
    const lenis = new Lenis({
      duration: 1.4,
      easing: (t) => 1 - Math.pow(2, -10 * t),
      smoothWheel: true,
    });

    lenis.on("scroll", ScrollTrigger.update);
    gsap.ticker.remove(gsap.updateRoot);
    gsap.ticker.add((t) => lenis.raf(t * 1000));

    /* ============================= */
    /* BUILD ANIMATIONS */
    /* ============================= */
    function buildAnimations() {
      ScrollTrigger.getAll().forEach((t) => t.kill());
      gsap.killTweensOf("*");

      const isMobile = window.innerWidth <= 768;
      const grid = isMobile ? [5, 2] : [3, 5];

      /* BACKGROUND REVEAL */
      gsap.fromTo(
        ".background-tile",
        { "--progress": 1 },
        {
          "--progress": 0,
          ease: "linear",
          stagger: {
            grid,
            from: "end",
            each: 0.08,
          },
          scrollTrigger: {
            trigger: ".reasons",
            start: "top top",
            end: "40%",
            scrub: true,
          },
        },
      );

      /* LINES */
      gsap
        .timeline({
          scrollTrigger: {
            trigger: ".reasons",
            start: "40%",
            end: "55%",
            scrub: true,
          },
        })
        .to(".lines-grid", { opacity: 1 })
        .to(".lines-v .lines-item", { scaleY: 1, stagger: 0.05 }, "<")
        .to(".lines-h .lines-item", { scaleX: 1, stagger: 0.05 }, "<");

      /* CONTENT */
      gsap.to(".reason", {
        opacity: 1,
        pointerEvents: "auto",
        ease: "expo.out",
        stagger: {
          grid,
          from: "start",
          each: 0.08,
        },
        scrollTrigger: {
          trigger: ".reasons",
          start: "55%",
          end: "85%",
          scrub: true,
        },
      });
    }

    /* ============================= */
    /* INIT + RESIZE */
    /* ============================= */
    buildAnimations();

    window.addEventListener("resize", () => {
      clearTimeout(window.__resizeTimer);
      window.__resizeTimer = setTimeout(() => {
        buildAnimations();
        ScrollTrigger.refresh();
      }, 250);
    });
  </script>
</html>
